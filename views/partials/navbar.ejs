<nav style="
  background-color: #1a1a1a;
  padding: 0.5rem 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  color: #00e676;
  box-shadow: 0 4px 15px rgba(0,0,0,0.6);
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  position: sticky;
  top: 0;
  z-index: 999;
">
  <a href="/" style="color: #00e676; text-decoration: none; font-weight: bold; font-size: 1.5rem;">
    ğŸš€ SnapLink
  </a>

  <div style="display: flex; align-items: center; gap: 1.2rem;">
    <a href="/" style="color: #ccc; text-decoration: none; position: relative;">
      Home
    </a>

    <% if (!user) { %>
      <a href="/login" style="
        background-color: transparent;
        border: 1px solid #00e676;
        color: #00e676;
        padding: 0.4rem 0.9rem;
        border-radius: 20px;
        text-decoration: none;
        transition: all 0.3s ease;
      " onmouseover="this.style.backgroundColor='#00e676'; this.style.color='#000';"
        onmouseout="this.style.backgroundColor='transparent'; this.style.color='#00e676';">
        Login
      </a>

      <a href="/signup" style="
        background-color: #00e676;
        color: #000;
        padding: 0.4rem 0.9rem;
        border-radius: 20px;
        text-decoration: none;
        font-weight: bold;
        transition: all 0.3s ease;
      " onmouseover="this.style.backgroundColor='#00c853';" onmouseout="this.style.backgroundColor='#00e676';">
        Create Account
      </a>
      <% } else { %>
        <div style="position: relative;">
          <button id="userDropdownBtn" style="
          background: none;
          border: none;
          color: #00e676;
          font-weight: bold;
          font-size: 1rem;
          cursor: pointer;
        ">
            ğŸ‘¤ <%= user.email.split("@")[0] %> â·
          </button>
          <div id="userDropdown" style="
          display: none;
          position: absolute;
          top: 120%;
          right: 0;
          background-color: #2e2e2e;
          border-radius: 10px;
          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.6);
          min-width: 160px;
          padding: 0.5rem 0;
        ">
            <a href="/url" style="
            display: block;
            padding: 0.7rem 1.2rem;
            color: #ccc;
            text-decoration: none;
            transition: background 0.2s ease;
          " onmouseover="this.style.backgroundColor='#3a3a3a';" onmouseout="this.style.backgroundColor='transparent';">
              ğŸ”— Your URLs
            </a>
            <a href="/user/logout" style="
            display: block;
            padding: 0.7rem 1.2rem;
            color: #ff5252;
            text-decoration: none;
            transition: background 0.2s ease;
          " onmouseover="this.style.backgroundColor='#3a3a3a';" onmouseout="this.style.backgroundColor='transparent';">
              ğŸšª Logout
            </a>
          </div>
        </div>
        <% } %>
  </div>
</nav>

<script>
  const userBtn = document.getElementById("userDropdownBtn");
  const dropdown = document.getElementById("userDropdown");

  if (userBtn) {
    userBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
    });

    document.addEventListener("click", function (event) {
      if (!userBtn.contains(event.target) && !dropdown.contains(event.target)) {
        dropdown.style.display = "none";
      }
    });
  }
</script>