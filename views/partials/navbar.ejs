<link rel="stylesheet" href="/css/style.css">

<nav class="navbar">
  <a href="/" class="logo">ğŸš€ SnapLink</a>

  <div style="display: flex; align-items: center; gap: 1.2rem;">
    <a href="/">Home</a>
    <a href="/about">About Us</a>

    <% if (!user) { %>
      <a href="/login" class="auth-btn">Login</a>
      <a href="/signup" class="auth-btn signup-btn">Create Account</a>
      <% } else { %>
        <div class="user-dropdown">
          <button id="userDropdownBtn">ğŸ‘¤ <%= user.email.split("@")[0] %> â·</button>
          <div id="userDropdown" class="user-dropdown-menu">
            <a href="/url">ğŸ”— Your URLs</a>
            <a href="/user/logout" class="logout">ğŸšª Logout</a>
          </div>
        </div>
        <% } %>
  </div>
</nav>

<script>
  const userBtn = document.getElementById("userDropdownBtn");
  const dropdown = document.getElementById("userDropdown");

  if (userBtn) {
    userBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
    });

    document.addEventListener("click", function (event) {
      if (!userBtn.contains(event.target) && !dropdown.contains(event.target)) {
        dropdown.style.display = "none";
      }
    });
  }
</script>